{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chazcurlee/repos/projects/RSM/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/chazcurlee/repos/projects/RSM/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chazcurlee/repos/projects/RSM/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import GoogleMapReact from\"google-map-react\";import\"../styles/Details.css\";import Brewery from\"../components/Brewery\";import Reviews from\"../components/Reviews\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Details=function Details(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),brewery=_useState2[0],setBrewery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),reviews=_useState4[0],setReviews=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggle=_useState6[0],setToggle=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),rerend=_useState8[0],setRerend=_useState8[1];var _useParams=useParams(),name=_useParams.name,lati=_useParams.lati,long=_useParams.long;var API_KEY=process.env.REACT_APP_GOOGLE_MAP_API_KEY;var longi=parseFloat(long);var ltit=parseFloat(lati);var address=brewery.street+\" \"+brewery.city+\", \"+brewery.state+\" \"+brewery.postal_code;var defaultProps={center:{lat:ltit,lng:longi},zoom:11};if(brewery.street===null){address=\"Not Available\";}useEffect(function(){var getBrewery=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var select;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://api.openbrewerydb.org/breweries?by_name=\".concat(name));case 2:select=_context.sent;setBrewery(select.data[0]);case 4:case\"end\":return _context.stop();}},_callee);}));return function getBrewery(){return _ref.apply(this,arguments);};}();getBrewery();var getReviews=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var rev;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/review/\".concat(brewery.id));case 2:rev=_context2.sent;setReviews(rev.data);case 4:case\"end\":return _context2.stop();}},_callee2);}));return function getReviews(){return _ref2.apply(this,arguments);};}();getReviews();},[toggle,rerend]);console.log(reviews);return lati===\"null\"?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-bg-color details-container-no-map\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"details-item-no-map\",children:brewery.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"details-item-no-map\",children:address}),/*#__PURE__*/_jsx(\"h3\",{className:\"details-item-no-map\",children:brewery.phone}),/*#__PURE__*/_jsx(\"h3\",{className:\"details-item-no-map\",children:brewery.website_url}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Reviews,{brewery:brewery,reviews:reviews,toggle:toggle,setToggle:setToggle,rerend:rerend,setRerend:setRerend})})]})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-bg-color details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"details-item\",children:brewery.name}),/*#__PURE__*/_jsx(\"h3\",{className:\"details-item\",children:address}),/*#__PURE__*/_jsx(\"h3\",{className:\"details-item\",children:brewery.phone}),/*#__PURE__*/_jsx(\"h3\",{className:\"details-item\",children:brewery.website_url})]}),/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",children:/*#__PURE__*/_jsx(GoogleMapReact,{options:{gestureHandling:\"greedy\"},bootstrapURLKeys:{key:\"\".concat(API_KEY)},defaultCenter:defaultProps.center,defaultZoom:defaultProps.zoom,children:/*#__PURE__*/_jsx(Brewery,{lat:defaultProps.center.lat,lng:defaultProps.center.lng,name:\"\".concat(brewery.name)})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Reviews,{className:\"reviews\",brewery:brewery,reviews:reviews,toggle:toggle,setToggle:setToggle,rerend:rerend,setRerend:setRerend})})]});};export default Details;","map":{"version":3,"names":["axios","useState","useEffect","useParams","GoogleMapReact","Brewery","Reviews","Details","brewery","setBrewery","reviews","setReviews","toggle","setToggle","rerend","setRerend","name","lati","long","API_KEY","process","env","REACT_APP_GOOGLE_MAP_API_KEY","longi","parseFloat","ltit","address","street","city","state","postal_code","defaultProps","center","lat","lng","zoom","getBrewery","get","select","data","getReviews","id","rev","console","log","phone","website_url","gestureHandling","key"],"sources":["/Users/chazcurlee/repos/projects/RSM/client/src/pages/Details.jsx"],"sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport GoogleMapReact from \"google-map-react\";\nimport \"../styles/Details.css\";\nimport Brewery from \"../components/Brewery\";\nimport Reviews from \"../components/Reviews\";\n\nconst Details = () => {\n  let [brewery, setBrewery] = useState([]);\n  let [reviews, setReviews] = useState([]);\n  const [toggle, setToggle] = useState(false);\n  const [rerend, setRerend] = useState(false);\n\n  let { name, lati, long } = useParams();\n  const API_KEY = process.env.REACT_APP_GOOGLE_MAP_API_KEY;\n  let longi = parseFloat(long);\n  let ltit = parseFloat(lati);\n  let address =\n    brewery.street +\n    \" \" +\n    brewery.city +\n    \", \" +\n    brewery.state +\n    \" \" +\n    brewery.postal_code;\n\n  const defaultProps = {\n    center: {\n      lat: ltit,\n      lng: longi,\n    },\n    zoom: 11,\n  };\n\n  if (brewery.street === null) {\n    address = \"Not Available\";\n  }\n\n  useEffect(() => {\n    const getBrewery = async () => {\n      let select = await axios.get(\n        `https://api.openbrewerydb.org/breweries?by_name=${name}`\n      );\n      setBrewery(select.data[0]);\n    };\n    getBrewery();\n\n    const getReviews = async () => {\n      let rev = await axios.get(`/api/review/${brewery.id}`);\n      setReviews(rev.data);\n    };\n    getReviews();\n  }, [toggle, rerend]);\n\n  console.log(reviews);\n\n  return lati === \"null\" ? (\n    <div>\n      <div className={`main-bg-color details-container-no-map`}>\n        <h1 className=\"details-item-no-map\">{brewery.name}</h1>\n        <h3 className=\"details-item-no-map\">{address}</h3>\n        <h3 className=\"details-item-no-map\">{brewery.phone}</h3>\n        <h3 className=\"details-item-no-map\">{brewery.website_url}</h3>\n        <div>\n          <Reviews\n            brewery={brewery}\n            reviews={reviews}\n            toggle={toggle}\n            setToggle={setToggle}\n            rerend={rerend}\n            setRerend={setRerend}\n          />\n        </div>\n      </div>\n    </div>\n  ) : (\n    <div>\n      <div className={`main-bg-color details-container`}>\n        <div>\n          <h1 className=\"details-item\">{brewery.name}</h1>\n          <h3 className=\"details-item\">{address}</h3>\n          <h3 className=\"details-item\">{brewery.phone}</h3>\n          <h3 className=\"details-item\">{brewery.website_url}</h3>\n        </div>\n        <div className={`map-container`}>\n          <GoogleMapReact\n            options={{\n              gestureHandling: \"greedy\",\n            }}\n            bootstrapURLKeys={{\n              key: `${API_KEY}`,\n            }}\n            defaultCenter={defaultProps.center}\n            defaultZoom={defaultProps.zoom}\n          >\n            <Brewery\n              lat={defaultProps.center.lat}\n              lng={defaultProps.center.lng}\n              name={`${brewery.name}`}\n            />\n          </GoogleMapReact>\n        </div>\n      </div>\n      <div>\n        <Reviews\n          className=\"reviews\"\n          brewery={brewery}\n          reviews={reviews}\n          toggle={toggle}\n          setToggle={setToggle}\n          rerend={rerend}\n          setRerend={setRerend}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Details;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}